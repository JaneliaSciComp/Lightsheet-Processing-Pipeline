scriptName         = 'createSegmentationStacks.bat';
executableFullPath = 'E:\Mouse Development\Segmentation\Tracking_GMM_project-0.2.3-win64\bin\ProcessStack.exe';
dataPath           = 'E:\Mouse Development\Segmentation\Stacks';
timePoints         = [1 125 250];
dataTypes          = {...
    'CBFLarge.b300';...
    'CBFSmall.b300';...
    'fusedStack.b123';...
    'MVDLarge.b300';...
    'MVDSmall.b300'};
taus               = {...
    [50 100 150 200 300 500];...
    [50 100 150 200 300 500];...
    [10 12 15];...
    [50 100 150 200 300 500];...
    [50 100 150 200 300 500]};
voxelThreshold     = 4;

fid = fopen(scriptName, 'w');

for t = 1:numel(timePoints)
    for i = 1:numel(dataTypes)
        dataFullPath = [dataPath '\TM' num2str(timePoints(t), '%.6d') '.' dataTypes{i} '.bin'];
        for j = 1:numel(taus{i})
            fwrite(fid, ['"' executableFullPath '" "' dataFullPath '" ' num2str(taus{i}(j)) ' ' num2str(voxelThreshold)]);
            fprintf(fid, '\n');
        end;
    end;
end;

fclose(fid);